/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'kingdee' at '15-8-7 下午12:33' with Gradle 2.5
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.5/userguide/tutorial_java_projects.html
 */


// Apply the java plugin to add support for Java
apply plugin: 'java'
apply plugin: 'eclipse-wtp'
apply plugin: 'war'
apply plugin: 'jetty'

// In this section you declare where to find the dependencies of your project
repositories {
    maven {  
             name "aliyunmaven"  
             url "http://maven.aliyun.com/nexus/content/groups/public/"  
    } 
    jcenter()
	//mavenCentral()
}

// In this section you declare the dependencies for your production and test code
dependencies {
    compile (
		'net.sf.json-lib:json-lib:2.4:jdk15',
		'javax.servlet.jsp:jsp-api:2.1',
		'org.apache.httpcomponents:httpclient:4.3.3',
   		'org.apache.httpcomponents:httpcore:4.3.2',
   		'org.apache.httpcomponents:httpmime:4.3.3',
   		'org.slf4j:slf4j-api:1.7.12',
   		'org.springframework:spring-core:4.2.0.RELEASE',
   		'org.springframework:spring-beans:4.2.0.RELEASE',
   		'org.springframework:spring-context:4.2.0.RELEASE',
   		'org.springframework:spring-webmvc:4.2.0.RELEASE',
   		'com.fasterxml.jackson.core:jackson-core:2.1.0',
   		'com.fasterxml.jackson.core:jackson-annotations:2.1.0',
   		'com.fasterxml.jackson.core:jackson-databind:2.1.0',
   		"org.apache.tomcat:tomcat-servlet-api:7.0.30",
		"javax.servlet.jsp:jsp-api:2.1",
		"javax.servlet.jsp.jstl:jstl-api:1.2",
		"org.glassfish.web:jstl-impl:1.2",
	)
	// https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common
	compile group: 'org.apache.hadoop', name: 'hadoop-common', version: '2.8.2'
    // https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-hdfs
	compile group: 'org.apache.hadoop', name: 'hadoop-hdfs', version: '2.8.2'
    testCompile 'junit:junit:4.12'
}

jettyRun{
    webAppSourceDirectory file("$projectDir/src/main/webapp")
    httpPort 8080
    contextPath project.name
    scanIntervalSeconds 0
    reload "automatic"
}
//设置编译的时候支持中文，文件为utf-8编码
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'